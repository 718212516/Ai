<!DOCTYPE html><html>
<head>
<meta charset="gbk"/>
<title>onhashchange</title>
</head>
<body>
<a href="#1">#1</a>
<a href="#2">#2</a>
<a href="#3">#3</a>
<script src="../Aij.js"></script>
<script>
window.console = window.console || ({
	log: function(o) {
		var s;
		if($.type(o) == 'string') s = o;
		else {
			s = [];
			for(var i in o) s.push(i);
			s = 'Object: ' + s.join(',');
		}
		$(document.body).append(s + '<br/>');
	}
});
require('../module/history.js', function(History) {
	var his = new History('blank.html');
	his.bind('hashChange', function(data) {
		console.log('change: ' + data);
	});
	$(document.body).delegate('a', 'click', function() {
		var url = $(this).attr('href') || '';
		if(url.charAt(0) == '#')
			his.add(url);
	});
});
</script>
</body>
</html>